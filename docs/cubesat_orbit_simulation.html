
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>üõ∞Ô∏è CubeSat Orbit Simulation</title>
</head>
<body>
    <h1>üõ∞Ô∏è CubeSat Orbit Simulation</h1>
    <p>
        Welcome to the <strong>OpenCubeDesigner Orbit Simulation</strong> module by Interplanix. This tool helps students, engineers, and mission designers understand and simulate satellite orbits using real orbital mechanics.
    </p>
    <p><strong>What You Can Do:</strong></p>
    <ul>
        <li>üìç Select a common CubeSat orbit (LEO, SSO, or Elliptical)</li>
        <li>üßæ View or download a <code>.script</code> file compatible with <a href="https://gmatcentral.org/" target="_blank" rel="noopener">NASA GMAT</a></li>
        <li>üåç Visualize the orbit by running the script in your local GMAT installation</li>
    </ul>
    <p>
        These simulations are designed for low-cost, laptop-based mission design using <em>fully open-source software</em>.
    </p>
    <hr>

    <h2>üìò Understanding Orbit Types</h2>
    <ul>
        <li><strong>LEO (Low Earth Orbit)</strong>: ~500‚Äì600 km above Earth, fast orbits (~90 min). Great for imaging and quick comms.</li>
        <li><strong>SSO (Sun-Synchronous Orbit)</strong>: A special polar orbit (~700 km) that passes over the same part of Earth at the same local solar time‚Äîideal for Earth observation.</li>
        <li><strong>Elliptical (Molniya-type)</strong>: Highly elliptical with long dwell time over high latitudes (e.g. Russia, Canada). Useful for regional coverage.</li>
    </ul>
    <hr>

    <h2>üìä Select Orbit Type</h2>
    <p>Choose an orbit profile below to preview the simulation logic.</p>

    <label for="orbitMode">Orbit Mode:</label>
    <select id="orbitMode" onchange="updateScript()">
        <option value="LEO">LEO (500 km)</option>
        <option value="SSO">SSO (700 km)</option>
        <option value="ELLIPTICAL">Elliptical (Molniya-like)</option>
    </select>

    <br><br>
    <button onclick="toggleScript()" style="margin-bottom:10px;">üßæ Show GMAT Script</button>
    <a id="downloadLink" href="#" download="cube_orbit_simulation.script" style="margin-left: 15px; display: none;">üì• Download Script</a>

    <pre id="scriptDisplay" style="background:#f5f5f5; padding:1em; display:none; overflow:auto;"></pre>

    <hr>

    <h2>üß™ How the Simulation Works</h2>
    <p>This GMAT script simulates the CubeSat's orbit using the following:</p>
    <ul>
        <li><strong>SMA (Semi-Major Axis)</strong>: Determines the orbit size (~Earth radius + altitude)</li>
        <li><strong>ECC (Eccentricity)</strong>: 0 = circular, >0 = elliptical</li>
        <li><strong>INC (Inclination)</strong>: 0¬∞ = equatorial, 90¬∞ = polar, >90¬∞ = retrograde</li>
        <li><strong>RAAN, AOP, TA</strong>: Angles defining orbit orientation and position</li>
        <li><strong>Force Models</strong>: Drag, solar radiation pressure, and gravity field are included</li>
    </ul>
    <p>
        This lets you test orbital behavior for different missions, like Earth observation, tech demos, or regional coverage.
    </p>

    <hr>

    <h2>üåê Orbit Visualization with GMAT</h2>
    <p>
        To visualize and simulate the CubeSat orbit, please download the generated GMAT script and open it in your local installation of 
        <a href="https://gmatcentral.org/" target="_blank" rel="noopener">GMAT</a>. This script includes orbital parameters, spacecraft properties, and force models configured for a 7-day propagation.
    </p>
    <p>
        If you don‚Äôt have GMAT yet, you can download it from the official <a href="https://gmatcentral.org/" target="_blank" rel="noopener">GMAT Central website</a>.
    </p>
    <p style="font-size:small;">
        Note: The visual demo has been removed. GMAT provides superior visual fidelity and simulation accuracy for orbit planning.
    </p>

    <script>
        let scriptVisible = false;

        function toggleScript() {
            scriptVisible = !scriptVisible;
            document.getElementById("scriptDisplay").style.display = scriptVisible ? "block" : "none";
            document.getElementById("downloadLink").style.display = scriptVisible ? "inline-block" : "none";
            updateScript();
        }

        function updateScript() {
            const mode = document.getElementById("orbitMode").value;
            let orbitParams = "";

            if (mode === "LEO") {
                orbitParams = `CubeSat.SMA = 6878;   % 500 km altitude\nCubeSat.ECC = 0;\nCubeSat.INC = 51.6;   % ISS-like inclination`;
            } else if (mode === "SSO") {
                orbitParams = `CubeSat.SMA = 7078;   % 700 km altitude\nCubeSat.ECC = 0;\nCubeSat.INC = 98.6;   % Sun-synchronous`;
            } else {
                orbitParams = `CubeSat.SMA = 8000;   % Highly elliptical\nCubeSat.ECC = 0.2;\nCubeSat.INC = 63.4;   % Molniya inclination`;
            }

            const script = `Create Spacecraft CubeSat;
CubeSat.DateFormat = UTCGregorian;
CubeSat.Epoch = '01 Jan 2025 00:00:00.000';
CubeSat.DryMass = 4;
CubeSat.Cd = 2.2;
CubeSat.Cr = 1.8;
CubeSat.DragArea = 0.01;
CubeSat.SRPArea = 0.01;
CubeSat.OrbitColor = Red;

${orbitParams}
CubeSat.RAAN = 0;
CubeSat.AOP = 0;
CubeSat.TA = 0;

Create ForceModel EarthForces;
EarthForces.CentralBody = Earth;
EarthForces.PrimaryBodies = {Earth};
EarthForces.SRP = On;
EarthForces.Drag = On;
EarthForces.AtmosphereModel = MSISE90;
EarthForces.GravityField.Earth.Degree = 4;
EarthForces.GravityField.Earth.Order = 4;

Create Propagator PropLEO;
PropLEO.FM = EarthForces;
PropLEO.Type = RungeKutta89;
PropLEO.InitialStepSize = 60;

BeginMissionSequence;
Propagate PropLEO(CubeSat) {CubeSat.ElapsedDays = 7};`;

            if (scriptVisible) {
                document.getElementById("scriptDisplay").textContent = script;
                const blob = new Blob([script], { type: 'text/plain' });
                const url = URL.createObjectURL(blob);
                document.getElementById("downloadLink").href = url;
            }
        }

        document.addEventListener("DOMContentLoaded", updateScript);
    </script>
</body>
</html>
